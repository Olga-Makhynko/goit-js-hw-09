{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["import isEmail from 'validator/es/lib/isEmail';\n\nconst form = document.querySelector('.feedback-form');\nlet formData = {\n  email: '',\n  message: '',\n};\nlet handleInput = event => {\n  formData[event.target.name] = event.target.value.trim();\n  localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n};\nform.addEventListener('input', handleInput);\nif (localStorage.getItem('feedback-form-state') !== null) {\n  let localStorageData = {};\n  try {\n    localStorageData = JSON.parse(localStorage.getItem('feedback-form-state'));\n  } catch (error) {\n    console.error('Error name:', error.name);\n    console.error('Error message:', error.message);\n  }\n  formData = { ...formData, ...localStorageData };\n  form.elements.email.value = formData.email || '';\n  form.elements.message.value = formData.message || '';\n}\n\nfunction formSubmit() {\n  form.addEventListener('submit', event => {\n    event.preventDefault();\n\n    let { email, message } = formData;\n    if (!isEmail(email)) {\n      alert(\"It's not email\");\n      return;\n    }\n    if (message.trim() === '') {\n      alert('Wright something');\n      return;\n    }\n\n    alert('Message sent successfully!');\n    console.log(formData);\n\n    localStorage.removeItem('feedback-form-state');\n\n    Object.keys(formData).forEach(key => (formData[key] = ''));\n    form.reset();\n  });\n}\nformSubmit();\n"],"names":["form","formData","handleInput","event","localStorageData","error","formSubmit","email","message","isEmail","key"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EACpD,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EACIC,EAAcC,GAAS,CACzBF,EAASE,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAAM,KAAM,EACvD,aAAa,QAAQ,sBAAuB,KAAK,UAAUF,CAAQ,CAAC,CACtE,EACAD,EAAK,iBAAiB,QAASE,CAAW,EAC1C,GAAI,aAAa,QAAQ,qBAAqB,IAAM,KAAM,CACxD,IAAIE,EAAmB,CAAE,EACzB,GAAI,CACFA,EAAmB,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,CAC1E,OAAQC,EAAO,CACd,QAAQ,MAAM,cAAeA,EAAM,IAAI,EACvC,QAAQ,MAAM,iBAAkBA,EAAM,OAAO,CACjD,CACEJ,EAAW,CAAE,GAAGA,EAAU,GAAGG,CAAkB,EAC/CJ,EAAK,SAAS,MAAM,MAAQC,EAAS,OAAS,GAC9CD,EAAK,SAAS,QAAQ,MAAQC,EAAS,SAAW,EACpD,CAEA,SAASK,GAAa,CACpBN,EAAK,iBAAiB,SAAUG,GAAS,CACvCA,EAAM,eAAgB,EAEtB,GAAI,CAAE,MAAAI,EAAO,QAAAC,CAAO,EAAKP,EACzB,GAAI,CAACQ,EAAQF,CAAK,EAAG,CACnB,MAAM,gBAAgB,EACtB,MACN,CACI,GAAIC,EAAQ,KAAM,IAAK,GAAI,CACzB,MAAM,kBAAkB,EACxB,MACN,CAEI,MAAM,4BAA4B,EAClC,QAAQ,IAAIP,CAAQ,EAEpB,aAAa,WAAW,qBAAqB,EAE7C,OAAO,KAAKA,CAAQ,EAAE,QAAQS,GAAQT,EAASS,CAAG,EAAI,EAAG,EACzDV,EAAK,MAAO,CAChB,CAAG,CACH,CACAM,EAAY"}